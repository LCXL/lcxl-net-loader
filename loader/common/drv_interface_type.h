#ifndef _DRV_INTERFACE_TYPE_H_
#define _DRV_INTERFACE_TYPE_H_

#include "../../common/lcxl_type.h"
#pragma warning(disable:4200)

#ifdef __cplusplus
extern "C" {
#endif

#define MAX_INSTANCE_NAME_LENGTH     256

//获取所有的网卡接口序号
//IOCTL_LOADER_ALL_MODULE
//output

typedef struct _APP_MODULE_INFO {
#define AMS_NONE		0x00
#define AMS_NORMAL		0x01
#define AMS_NO_SETTING	0x02
#define AMS_NO_FILTER	0x03
	//模块模式
	INT					app_module_status;
	//小端口驱动ifindex
	NET_IFINDEX			miniport_if_index;
	//网卡本地唯一ID
	NET_LUID			miniport_net_luid;
	//真实地址
	LCXL_SERVER_ADDR	real_addr;
	//虚拟IPv4
	IN_ADDR				virtual_ipv4;
	//虚拟IPv6
	IN6_ADDR			virtual_ipv6;
	//模块名称
	USHORT				filter_module_name_len;
	WCHAR				filter_module_name[MAX_INSTANCE_NAME_LENGTH];
	//小端口驱动友好名称
	USHORT				miniport_friendly_name_len;
	WCHAR				miniport_friendly_name[MAX_INSTANCE_NAME_LENGTH];
	//小端口驱动名称
	USHORT				miniport_name_len;
	WCHAR				miniport_name[MAX_INSTANCE_NAME_LENGTH];
	//服务器数量
	INT					server_count;

} APP_MODULE_INFO, *PAPP_MODULE_INFO;

//服务器列表
//IOCTL_LOADER_GET_SERVER_LIST
//input NET_IFINDEX                     MiniportIfIndex;
//output
typedef struct _APP_SERVER_LIST {
	int server_count;//服务器数量
	LCXL_SERVER_ADDR server_list[0];//服务器地址
} APP_SERVER_LIST, *PAPP_SERVER_LIST;

#ifdef __cplusplus
}
#endif

#endif